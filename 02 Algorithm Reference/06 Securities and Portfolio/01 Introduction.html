<meta name="tag" content="using data">
<meta name="tag" content="securities and portfolio">
<meta name="tag" content="securities">
<p>
Algorithms have a $[Securities,P:QuantConnect.Algorithm.QCAlgorithm.Securities] property which stores a $[Security,T:QuantConnect.Securities.Security] object for each asset in
    your algorithm. Security objects hold the models (backtesting behaviors) and properties of an asset. Each security
    can be completely customized to behave as you'd like. Securities is a <code>Dictionary&lt;Symbol,
    Security&gt;</code> so you can access your Security objects with their ticker <code>Securities["IBM"].Price</code>.
</p>
<div class="section-example-container">
	<pre class="csharp">// Popular Securities Property Values:
Securities["IBM"].HasData           // Security has data
                 .Invested          // Have holdings
                 .LocalTime         // Time on the asset exchange
                 .Holdings          // Portfolio object
                 .Exchange          // Exchange information
                 .FeeModel;         // Fee model setter
</pre>
	<pre class="python">// Popular Securities Property Values:
self.Securities["IBM"].HasData           # Security has data
                 .Invested          # Have holdings
                 .LocalTime         # Time on the asset exchange
                 .Holdings          # Portfolio object
                 .Exchange          # Exchange information
                 .FeeModel;         # Fee model setter
</pre>
</div>
<p>
    Security objects also carry all the models for creating realistic backtests. These models are set via the public
    security properties and then used in LEAN to improve your backtest realism.
</p>
<p>
    The Portfolio property is a collection of SecurityHolding objects to provide easy access to the holding properties.
    This property also provides information about the whole portfolio state:
</p>
<div class="section-example-container">
	<pre class="csharp">// Popular Portfolio Property Values:
Portfolio.Invested                // Hold at least one stock
         .Cash                    // Sum of all currencies in account (only unsettled cash)
         .UnsettledCash           // Sum of all currencies in account (only settled cash)
         .TotalFees               // Fees incurred since backtest start
         .TotalHoldingsValue      // Absolute sum portfolio items
         .MarginRemaining         // Remaining margin on the account
         .TotalMarginUsed         // Sum of margin used across all securities
         .TotalPortfolioValue     // Portfolio equity
         .TotalProfit             // Sum of all gross profit
         .TotalUnrealizedProfit   // Holdings profit/loss
</pre>
	<pre class="python">// Popular Portfolio Property Values:
self.Portfolio.Invested                # Hold at least one stock
              .Cash                    # Sum of all currencies in account (only settled cash)
              .UnsettledCash           # Sum of all currencies in account (only unsettled cash)
              .TotalFees               # Fees incurred since backtest start
              .TotalHoldingsValue      # Absolute sum portfolio items
              .MarginRemaining         # Remaining margin on the account
              .TotalMarginUsed         # Sum of margin used across all securities
              .TotalPortfolioValue     # Portfolio equity
              .TotalProfit             # Sum of all gross profit
              .TotalUnrealizedProfit   # Holdings profit/loss
</pre>
</div>
<p>
    The Portfolio class is a <code>Dictionary&lt;Symbol, SecurityHolding&gt;</code> so can be accessed via ticker index:
    <code>Portfolio["IBM"].IsLong</code>
</p>
<div class="section-example-container">
	<pre class="csharp">// Popular Portfolio Property Values:
Portfolio["IBM"].Invested
                .IsLong            // IsLong, IsShort Holdings.
                .Quantity          // Shares held.
                .UnrealizedProfit; // Holdings profit/loss
                .TotalFees         // Fees incurred since backtest start
                .Price;            // Asset price
</pre>
	<pre class="python">// Popular Portfolio Property Values:
self.Portfolio["IBM"].Invested
                .IsLong            # IsLong, IsShort Holdings.
                .Quantity          # Shares held.
                .UnrealizedProfit; # Holdings profit/loss
                .TotalFees         # Fees incurred since backtest start
                .Price;            # Asset price
</pre>
</div>
<p>
    Detailed information on these classes can be found in LEAN documentation. Check out the $[Security,T:QuantConnect.Securities.Security]
    (Securities objects), $[SecurityPortfolioManager,T:QuantConnect.Securities.SecurityPortfolioManager] class, and
    $[SecurityHolding,T:QuantConnect.Securities.SecurityHolding] (Portfolio objects) classes.
</p>
<div class="section-example-container">
	<pre class="csharp">//Access to Security Objects with Securities:
Securities["IBM"].Price
</pre>
	<pre class="csharp">//Security object properties:
class Security {
    Resolution Resolution;
    bool HasData;
    bool Invested;
    DateTime LocalTime;
    SecurityHolding Holdings;
    SecurityExchange Exchange;
    IFeeModel FeeModel;
    IFillModel FillModel;
    ISlippageModel SlippageModel;
    ISecurityPortfolioModel PortfolioModel;
    ISecurityMarginModel MarginModel;
    ISettlementModel SettlementModel;
    IVolatilityModel VolatilityModel;
    ISecurityDataFilter DataFilter;
}
</pre>
	<pre class="python">#Access to Security Objects with Securities:
self.Securities["IBM"].Price
</pre>
	<pre class="python">#Security object properties:
class Security {
    Resolution Resolution;
    bool HasData;
    bool Invested;
    DateTime LocalTime;
    SecurityHolding Holdings;
    SecurityExchange Exchange;
    IFeeModel FeeModel;
    IFillModel FillModel;
    ISlippageModel SlippageModel;
    ISecurityPortfolioModel PortfolioModel;
    ISecurityMarginModel MarginModel;
    ISettlementModel SettlementModel;
    IVolatilityModel VolatilityModel; XXXXXX
    ISecurityDataFilter DataFilter;
}
</pre>
</div>
